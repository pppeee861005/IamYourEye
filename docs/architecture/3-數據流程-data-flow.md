# 3. 數據流程 (Data Flow)
1.  使用者在前端介面點擊「上傳照片」（一般模式）或「上傳圖片辨識是否詐騙」（防詐專屬模式）。
2.  後端接收圖片。
    * **一般模式**：圖片傳送給 OCR 服務，接收 `content` 文字。
    * **防詐專屬模式**：後端直接將圖片發送到「角色判斷模組」進行關鍵詞篩選，**繞過 OCR**。
3.  後端將 `content` 或使用者輸入傳送給「角色判斷模組」。
4.  **如果非藥品/保健品/詐騙**：`content` 傳送給「故事生成器」，生成 `story`，並由「小安」的 prompt 驅動聊天機器人進行回應。
5.  **如果為藥品/保健品**：後端直接觸發「智能醫師」的固定腳本，並將回應文字傳送給前端。
6.  **如果為詐騙**：後端直接觸發「智能防詐警察」的固定腳本，並將回應文字傳送給前端。
7.  前端將收到的文字顯示在對話框中。
8.  當使用者點擊「大聲朗讀」時，前端將文字發送給後端，後端調用 TTS 服務生成音頻，再將其回傳給前端播放。
9. 1.2.3.4.5.6.不用寫函式，直接寫入上下文中，交由llm處理
